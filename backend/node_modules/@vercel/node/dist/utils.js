"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getRegExpFromMatchers = void 0;
const path_to_regexp_1 = require("path-to-regexp");
function getRegExpFromMatchers(matcherOrMatchers) {
    if (!matcherOrMatchers) {
        return '^/.*$';
    }
    const matchers = Array.isArray(matcherOrMatchers)
        ? matcherOrMatchers
        : [matcherOrMatchers];
    return matchers.map(getRegExpFromMatcher).join('|');
}
exports.getRegExpFromMatchers = getRegExpFromMatchers;
function getRegExpFromMatcher(matcher) {
    if (typeof matcher !== 'string') {
        throw new Error('`matcher` must be a path matcher or an array of path matchers');
    }
    if (!matcher.startsWith('/')) {
        throw new Error('`matcher`: path matcher must start with /');
    }
    const re = path_to_regexp_1.pathToRegexp(matcher);
    return re.source;
}
